{"version":3,"file":"index.js","sources":["../src/js/pixabay.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nconst instance = axios.create({\n    baseURL: 'https://pixabay.com/api/',\n    timeout: 1000,\n});\nexport function getImagesByQuery(query) {\n    return instance\n        .get('/', {\n            params: {\n                key: '53367958-e4d72e9b7abbbffbba381cf2e',\n                q: query,\n                image_type: 'photo',\n                orientation: 'horizontal',\n                safesearch: true,\n            },\n        })\n        .then(res => {\n            if (!res.data.hits || res.data.hits.length === 0) {\n                iziToast.error({\n                    title: '❌',\n                    titleColor: '#fafafb',\n                    message: `Sorry, there are no images matching your search query. Please try again!`,\n                    messageColor: '#fafafb',\n                    backgroundColor: '#ef4040',\n                    position: 'topRight',\n                });\n                return null;\n            } else {\n                return res.data.hits;\n            }\n        })\n        .catch(error => {\n            console.error(error);\n        });\n}","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nconst simplelightbox = new SimpleLightbox('.gallery-link', {\n    captionsData: 'alt',\n    captionPosition: 'bottom',\n    captionDelay: 500,\n});\nconst refs = {\n    gallery: document.querySelector('.js-gallery'),\n    loader: document.querySelector('.loader'),\n};\nfunction createCard({\n    webformatURL,\n    largeImageURL,\n    tags,\n    likes,\n    views,\n    comments,\n    downloads,\n}) {\n    return `<li class=\"gallery-item\">\n<a href=\"${largeImageURL}\" class=\"gallery-link\">\n<img src=\"${webformatURL}\" alt=\"${tags}\">\n</a>\n<div class=\"gallery-descr\">\n<div class=\"gallery-descr-item\">\n<p class=\"gallery-descr-title\">Likes</p>\n<p class=\"gallery-descr-value\">${likes}</p>\n</div>\n<div class=\"gallery-descr-item\">\n<p class=\"gallery-descr-title\">Views</p>\n<p class=\"gallery-descr-value\">${views}</p>\n</div>\n<div class=\"gallery-descr-item\">\n<p class=\"gallery-descr-title\">Comments</p>\n<p class=\"gallery-descr-value\">${comments}</p>\n</div>\n<div class=\"gallery-descr-item\">\n<p class=\"gallery-descr-title\">Downloads</p>\n<p class=\"gallery-descr-value\">${downloads}</p>\n</div>\n</div>\n</li>`;\n}\nexport function createGallery(images) {\n    const markup = images.map(createCard).join('');\n    refs.gallery.innerHTML = markup;\n    simplelightbox.refresh();\n}\nexport function clearGallery() {\n    refs.gallery.innerHTML = '';\n}\nexport function showLoader() {\n    refs.loader.classList.remove('is-hidden');\n}\nexport function hideLoader() {\n    refs.loader.classList.add('is-hidden');\n}","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { getImagesByQuery } from './js/pixabay';\n\nimport {\n    clearGallery,\n    createGallery,\n    hideLoader,\n    showLoader,\n} from './js/render-functions';\nconst searchForm = document.querySelector('form');\n\nsearchForm.addEventListener('submit', handleFormSubmit);\nfunction handleFormSubmit(e) {\n    e.preventDefault();\n    const formData = new FormData(e.target);\n    const query = formData.get('search-text').trim();\n    if (!query) {\n        iziToast.warning({\n            title: '❌',\n            titleColor: '#fafafb',\n            message: ` Please enter search query!`,\n            messageColor: '#fafafb',\n            backgroundColor: '#ef4040',\n            position: 'topRight',\n        });\n        return;\n    }\n    clearGallery();\n    showLoader();\n    getImagesByQuery(query)\n        .then(images => {\n            if (!images || images.length === 0) {\n                iziToast.error({\n                    title: '❌',\n                    titleColor: '#fafafb',\n                    message: `Sorry, there are no images matching your search query. Please try again!`,\n                    messageColor: '#fafafb',\n                    backgroundColor: '#ef4040',\n                    position: 'topRight',\n                });\n                return;\n            }\n            createGallery(images);\n        })\n        .catch(error => {\n            iziToast.error({\n                title: '❌',\n                titleColor: '#fafafb',\n                message: `Sorry, something went wrong!!!. Please try again!`,\n                messageColor: '#fafafb',\n                backgroundColor: '#ef4040',\n                position: 'topRight',\n            });\n            console.error(error);\n        })\n        .finally(() => {\n            hideLoader();\n        });\n    e.target.reset();\n}\nclearGallery();"],"names":["instance","axios","getImagesByQuery","query","res","iziToast","error","simplelightbox","SimpleLightbox","refs","createCard","webformatURL","largeImageURL","tags","likes","views","comments","downloads","createGallery","images","markup","clearGallery","showLoader","hideLoader","searchForm","handleFormSubmit","e"],"mappings":"+vBAGA,MAAMA,EAAWC,EAAM,OAAO,CAC1B,QAAS,2BACT,QAAS,GACb,CAAC,EACM,SAASC,EAAiBC,EAAO,CACpC,OAAOH,EACF,IAAI,IAAK,CACN,OAAQ,CACJ,IAAK,qCACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACf,CACb,CAAS,EACA,KAAKC,GACE,CAACA,EAAI,KAAK,MAAQA,EAAI,KAAK,KAAK,SAAW,GAC3CC,EAAS,MAAM,CACX,MAAO,IACP,WAAY,UACZ,QAAS,2EACT,aAAc,UACd,gBAAiB,UACjB,SAAU,UAC9B,CAAiB,EACM,MAEAD,EAAI,KAAK,IAEvB,EACA,MAAME,GAAS,CACZ,QAAQ,MAAMA,CAAK,CAC/B,CAAS,CACT,CClCA,MAAMC,EAAiB,IAAIC,EAAe,gBAAiB,CACvD,aAAc,MACd,gBAAiB,SACjB,aAAc,GAClB,CAAC,EACKC,EAAO,CACT,QAAS,SAAS,cAAc,aAAa,EAC7C,OAAQ,SAAS,cAAc,SAAS,CAC5C,EACA,SAASC,EAAW,CAChB,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACJ,EAAG,CACC,MAAO;AAAA,WACAL,CAAa;AAAA,YACZD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,iCAKLC,CAAK;AAAA;AAAA;AAAA;AAAA,iCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,iCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,iCAIRC,CAAS;AAAA;AAAA;AAAA,MAI1C,CACO,SAASC,EAAcC,EAAQ,CAClC,MAAMC,EAASD,EAAO,IAAIT,CAAU,EAAE,KAAK,EAAE,EAC7CD,EAAK,QAAQ,UAAYW,EACzBb,EAAe,QAAO,CAC1B,CACO,SAASc,GAAe,CAC3BZ,EAAK,QAAQ,UAAY,EAC7B,CACO,SAASa,GAAa,CACzBb,EAAK,OAAO,UAAU,OAAO,WAAW,CAC5C,CACO,SAASc,GAAa,CACzBd,EAAK,OAAO,UAAU,IAAI,WAAW,CACzC,CC/CA,MAAMe,EAAa,SAAS,cAAc,MAAM,EAEhDA,EAAW,iBAAiB,SAAUC,CAAgB,EACtD,SAASA,EAAiBC,EAAG,CACzBA,EAAE,eAAc,EAEhB,MAAMvB,EADW,IAAI,SAASuB,EAAE,MAAM,EACf,IAAI,aAAa,EAAE,KAAI,EAC9C,GAAI,CAACvB,EAAO,CACRE,EAAS,QAAQ,CACb,MAAO,IACP,WAAY,UACZ,QAAS,8BACT,aAAc,UACd,gBAAiB,UACjB,SAAU,UACtB,CAAS,EACD,MACH,CACDgB,IACAC,IACApB,EAAiBC,CAAK,EACjB,KAAKgB,GAAU,CACZ,GAAI,CAACA,GAAUA,EAAO,SAAW,EAAG,CAChCd,EAAS,MAAM,CACX,MAAO,IACP,WAAY,UACZ,QAAS,2EACT,aAAc,UACd,gBAAiB,UACjB,SAAU,UAC9B,CAAiB,EACD,MACH,CACDa,EAAcC,CAAM,CAChC,CAAS,EACA,MAAMb,GAAS,CACZD,EAAS,MAAM,CACX,MAAO,IACP,WAAY,UACZ,QAAS,oDACT,aAAc,UACd,gBAAiB,UACjB,SAAU,UAC1B,CAAa,EACD,QAAQ,MAAMC,CAAK,CAC/B,CAAS,EACA,QAAQ,IAAM,CACXiB,GACZ,CAAS,EACLG,EAAE,OAAO,OACb,CACAL,EAAc"}